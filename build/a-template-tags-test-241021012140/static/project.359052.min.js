(()=>{var Ut=Object.create;var w=Object.defineProperty,ht=Object.defineProperties,mt=Object.getOwnPropertyDescriptor,pt=Object.getOwnPropertyDescriptors,Ft=Object.getOwnPropertyNames,$=Object.getOwnPropertySymbols,gt=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var tt=(e,t,l)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,S=(e,t)=>{for(var l in t||(t={}))lt.call(t,l)&&tt(e,l,t[l]);if($)for(var l of $(t))st.call(t,l)&&tt(e,l,t[l]);return e},et=(e,t)=>ht(e,pt(t));var z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var It=(e,t,l,d)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ft(t))!lt.call(e,a)&&a!==l&&w(e,a,{get:()=>t[a],enumerable:!(d=mt(t,a))||d.enumerable});return e};var dt=(e,t,l)=>(l=e!=null?Ut(gt(e)):{},It(t||!e||!e.__esModule?w(l,"default",{value:e,enumerable:!0}):l,e));var X=(e,t,l)=>new Promise((d,a)=>{var n=i=>{try{W(l.next(i))}catch(V){a(V)}},c=i=>{try{W(l.throw(i))}catch(V){a(V)}},W=i=>i.done?d(i.value):Promise.resolve(i.value).then(n,c);W((l=l.apply(e,t)).next())});var at=z((O,y)=>{(function(e){"use strict";var t=function(){},l=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(V){return setTimeout(V,16)};function d(){var V=this;V.reads=[],V.writes=[],V.raf=l.bind(e),t("initialized",V)}d.prototype={constructor:d,runTasks:function(V){t("run tasks");for(var Z;Z=V.shift();)Z()},measure:function(V,Z){t("measure");var b=Z?V.bind(Z):V;return this.reads.push(b),a(this),b},mutate:function(V,Z){t("mutate");var b=Z?V.bind(Z):V;return this.writes.push(b),a(this),b},clear:function(V){return t("clear",V),c(this.reads,V)||c(this.writes,V)},extend:function(V){if(t("extend",V),typeof V!="object")throw new Error("expected object");var Z=Object.create(this);return W(Z,V),Z.fastdom=this,Z.initialize&&Z.initialize(),Z},catch:null};function a(V){V.scheduled||(V.scheduled=!0,V.raf(n.bind(null,V)),t("flush scheduled"))}function n(V){t("flush");var Z=V.writes,b=V.reads,G;try{t("flushing reads",b.length),V.runTasks(b),t("flushing writes",Z.length),V.runTasks(Z)}catch(R){G=R}if(V.scheduled=!1,(b.length||Z.length)&&a(V),G)if(t("task errored",G.message),V.catch)V.catch(G);else throw G}function c(V,Z){var b=V.indexOf(Z);return!!~b&&!!V.splice(b,1)}function W(V,Z){for(var b in Z)Z.hasOwnProperty(b)&&(V[b]=Z[b])}var i=e.fastdom=e.fastdom||new d;typeof y=="object"&&(y.exports=i)})(typeof window!="undefined"?window:typeof O!="undefined"?O:globalThis)});var nt=z((al,k)=>{(function(){"use strict";var e=function(){function t(){}t.prototype=Object.create(null);function l(Z,b){for(var G=b.length,R=0;R<G;++R)i(Z,b[R])}var d={}.hasOwnProperty;function a(Z,b){Z[b]=!0}function n(Z,b){if(b.toString!==Object.prototype.toString&&!b.toString.toString().includes("[native code]")){Z[b.toString()]=!0;return}for(var G in b)d.call(b,G)&&(Z[G]=!!b[G])}var c=/\s+/;function W(Z,b){for(var G=b.split(c),R=G.length,p=0;p<R;++p)Z[G[p]]=!0}function i(Z,b){if(b){var G=typeof b;G==="string"?W(Z,b):Array.isArray(b)?l(Z,b):G==="object"?n(Z,b):G==="number"&&a(Z,b)}}function V(){for(var Z=arguments.length,b=Array(Z),G=0;G<Z;G++)b[G]=arguments[G];var R=new t;l(R,b);var p=[];for(var o in R)R[o]&&p.push(o);return p.join(" ")}return V}();typeof k!="undefined"&&k.exports?(e.default=e,k.exports=e):window.classNames=e})()});var Vt=z((it,E)=>{(function(e){var t={browser:[[/msie ([\.\_\d]+)/,"ie"],[/trident\/.*?rv:([\.\_\d]+)/,"ie"],[/firefox\/([\.\_\d]+)/,"firefox"],[/chrome\/([\.\_\d]+)/,"chrome"],[/version\/([\.\_\d]+).*?safari/,"safari"],[/mobile safari ([\.\_\d]+)/,"safari"],[/android.*?version\/([\.\_\d]+).*?safari/,"com.android.browser"],[/crios\/([\.\_\d]+).*?safari/,"chrome"],[/opera/,"opera"],[/opera\/([\.\_\d]+)/,"opera"],[/opera ([\.\_\d]+)/,"opera"],[/opera mini.*?version\/([\.\_\d]+)/,"opera.mini"],[/opios\/([a-z\.\_\d]+)/,"opera"],[/blackberry/,"blackberry"],[/blackberry.*?version\/([\.\_\d]+)/,"blackberry"],[/bb\d+.*?version\/([\.\_\d]+)/,"blackberry"],[/rim.*?version\/([\.\_\d]+)/,"blackberry"],[/iceweasel\/([\.\_\d]+)/,"iceweasel"],[/edge\/([\.\d]+)/,"edge"]],os:[[/linux ()([a-z\.\_\d]+)/,"linux"],[/mac os x/,"macos"],[/mac os x.*?([\.\_\d]+)/,"macos"],[/os ([\.\_\d]+) like mac os/,"ios"],[/openbsd ()([a-z\.\_\d]+)/,"openbsd"],[/android/,"android"],[/android ([a-z\.\_\d]+);/,"android"],[/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/,"firefoxos"],[/windows\s*(?:nt)?\s*([\.\_\d]+)/,"windows"],[/windows phone.*?([\.\_\d]+)/,"windows.phone"],[/windows mobile/,"windows.mobile"],[/blackberry/,"blackberryos"],[/bb\d+/,"blackberryos"],[/rim.*?os\s*([\.\_\d]+)/,"blackberryos"]],device:[[/ipad/,"ipad"],[/iphone/,"iphone"],[/lumia/,"lumia"],[/htc/,"htc"],[/nexus/,"nexus"],[/galaxy nexus/,"galaxy.nexus"],[/nokia/,"nokia"],[/ gt\-/,"galaxy"],[/ sm\-/,"galaxy"],[/xbox/,"xbox"],[/(?:bb\d+)|(?:blackberry)|(?: rim )/,"blackberry"]]},l="Unknown",d=Object.keys(t);function a(){var W=this;d.forEach(function(i){W[i]={name:l,version:[],versionString:l}})}function n(W,i,V){t[i].forEach(function(Z){var b=Z[0],G=Z[1],R=V.match(b);R&&(W[i].name=G,R[2]?(W[i].versionString=R[2],W[i].version=[]):R[1]?(W[i].versionString=R[1].replace(/_/g,"."),W[i].version=c(R[1])):(W[i].versionString=l,W[i].version=[]))})}function c(W){return W.split(/[\._]/).map(function(i){return parseInt(i)})}a.prototype.sniff=function(W){var i=this,V=typeof window!="undefined",Z=V?navigator.userAgent:"",b=(W||Z).toLowerCase();return d.forEach(function(G){n(i,G,b)}),this},typeof E!="undefined"&&E.exports?E.exports=a:(e.Sniffr=new a,e.Sniffr.sniff(navigator.userAgent))})(it)});function h(e,t=null){let d=rt(t).querySelectorAll(e);return Array.from(d)}function B(e,t=null){let l=h(e,t);return l.length===0?!1:l[0]}function rt(e){return e||(window.__shadowRoot?window.__shadowRoot.querySelector("article"):document)}function A(){let e=h(".Navigation"),t=h(".Navigation__hamburger");if(!e.length||!t.length)return;let l=e[0],d=t[0],a=h(".Navigation__item",l);if(a.length===0){d.classList.add("hidden");return}Nt(d,l),Yt(a,l,d),Bt(d)}function Nt(e,t){function l(a){return n=>{n.key==="Tab"&&!n.shiftKey&&(n.preventDefault(),a.focus())}}function d(a){return n=>{n.key==="Tab"&&n.shiftKey&&(n.preventDefault(),a.focus())}}e.addEventListener("click",a=>{a.preventDefault(),t.classList.toggle("Navigation--isActive");let n=t.classList.contains("Navigation--isActive"),c=n?"true":"false";e.setAttribute("aria-expanded",c);let W=h("nav.Theme-NavigationBar a"),i=W.at(0),V=W.at(-1),Z=i?d(V):null,b=V?l(i):null;function G(){t.classList.remove("Navigation--isActive"),e.setAttribute("aria-expanded","false"),e.focus(),i==null||i.removeEventListener("keydown",Z),V==null||V.removeEventListener("keydown",b)}function R(o){!o.target.closest(".Navigation__hamburger")&&!t.contains(o.target)&&G()}function p(o){o.key==="Escape"&&G()}n?(i==null||i.focus(),i==null||i.addEventListener("keydown",Z),V==null||V.addEventListener("keydown",b),document.addEventListener("click",R),document.addEventListener("keydown",p)):(i==null||i.removeEventListener("keydown",Z),V==null||V.removeEventListener("keydown",b),document.removeEventListener("click",R),document.removeEventListener("keydown",p),e.focus())})}function Bt(e){e.classList.remove("Navigation__hamburger--initializing")}function Yt(e,t,l){let d=()=>{t.classList.remove("Navigation--isActive"),l.setAttribute("aria-expanded","false")};e.forEach(a=>a.addEventListener("click",d))}window.hasOwnProperty("Shorthand")||(window.Shorthand={});var Xt=dt(at());var Qt=dt(nt());var cl=Vt();var j={getOrientation(){return window.Shorthand.displayContainer?j.getWidth()>j.getHeight()?"landscape":"portrait":window.innerWidth>window.innerHeight?"landscape":"portrait"},getHeight(){return window.Shorthand.displayContainer.getCache().height},getWidth(){return window.Shorthand.displayContainer.getCache().width},getTop(){return window.Shorthand.displayContainer.getCache().top},getBottom(){return window.Shorthand.displayContainer.getCache().bottom},getVhUnitsInPixels(e){return j.getHeight()*(e/100)},getDisplayContainer(){return window.Shorthand.displayContainer}},M=j;var ct={facebook:{networkName:"Facebook",shareAction:"Share",popupWidth:600,popupHeight:420},twitter:{networkName:"Twitter",shareAction:"Tweet",popupWidth:600,popupHeight:250},linkedin:{networkName:"LinkedIn",shareAction:"Share",popupWidth:600,popupHeight:250}};function Jt(e,t){let l=Math.round(M.getWidth()/2-t.popupWidth/2),d=0;M.getHeight()>t.popupHeight&&(d=Math.round(M.getHeight()/3-t.popupHeight/2));let a={left:l,top:d,width:t.popupWidth,height:t.popupHeight,personalbar:0,toolbar:0,scrollbars:1,resizable:1},n=Object.keys(a).map(i=>`${i}=${a[i]}`).join(","),c="social-widget-"+t.networkName.replace(/\s+/,"-"),W=window.open(e,c,n);W?W.focus():location.href=e}function Tt(e){e.preventDefault();let t=e.currentTarget,l=t.getAttribute("data-social-share"),d=ct[l],a=t.href;Jt(a,d)}function ut(e){let t=e.getAttribute("data-social-share");t in ct?e.addEventListener("click",Tt,{passive:!1}):console.error(`Social Share button of type ${t} is not supported.`)}function v(e="[data-social-share]"){h(e).forEach(ut)}var C=class{constructor({baseUrl:t,componentsBaseUrl:l,publishUrl:d},a,n){this.baseUrl=t,this.publishUrl=d!=null?d:"",this.componentsBaseUrl=l,this.index=a,this.isEmbed="embed"in window.Shorthand,this.search=xt(a,n==null?void 0:n.search)}isEmbedLink(t){return this.isEmbed&&t.startsWith(this.publishUrl)}getHeaderNavigation(){return this.compileNavigation(this.index.headerNavigation)}getFooterNavigation(){return this.compileNavigation(this.index.footerNavigation)}compileNavigation(t){var d,a,n;let l=t.hasManualItems?t.items:this.index.roots.map(c=>({label:this.index.nodes[c].label,nodeId:c,url:""}));return{isEnabled:t.isEnabled,option:t.option,hasSocials:t.hasSocials,social:t.social,hasSearch:t.hasSearch,showThemeLogos:t.showThemeLogos,logos:((d=t.logos)!=null?d:[]).map(c=>this.compileLogo(c)),color:(a=t.color)!=null?a:void 0,fontColor:(n=t.fontColor)!=null?n:void 0,items:l.reduce((c,W)=>{let i=this.compileNavigationItem(W);return i&&c.push(i),c},[])}}compileLogo(t){let l={media:{}};for(let d of t.media)d.uri&&(l.media[d.sel]={src:this.getProjectUrl(d.uri),alt:d.alt});return t.link&&(l.link=et(S({},t.link),{href:this.getProjectUrl(t.link.href)})),l}compileNavigationItem({label:t,nodeId:l,url:d}){var c,W,i;if(d)return{label:t,url:d,children:[]};let a=this.index.nodes[l];if(!a)return;let n=(W=(c=a.children)==null?void 0:c.reduce((V,Z)=>{let b=this.index.nodes[Z];return b!=null&&b.page&&V.push({label:b.label||this.index.pages[b.page].title||"Untitled story",url:this.getPageUrl(b.page)}),V},[]))!=null?W:[];return a.page&&(d=this.getPageUrl(a.page)),{label:t||a.label||((i=this.index.pages[a.page])==null?void 0:i.title)||"Untitled story",url:d,children:n}}externalLinkToProjectPage(t){return{pageId:t.id,url:t.url,title:t.title,description:t.description,publishedAt:new Date,tags:[],cover:this._compileCover(t.cover)}}getProjectPage(t,l){var a;let d=this.index.pages[t];if(d)return{pageId:t,url:this.getPageUrl(t),title:l!=null&&l.title?l.title:d.title,description:l!=null&&l.description?l.description:d.description,publishedAt:new Date(d.at),tags:(a=d.tags)!=null?a:[],cover:l!=null&&l.cover?this._compileCover(l.cover):this._compileCover(d.cover,t),colors:d.colors}}_compileCover(t,l){if(t){let{image:d,sources:a=[]}=t!=null?t:{};return{url:l?this.getPageAssetUrl(l,d):d,sources:a.map(({t:n,s:c})=>({type:n,srcSet:c.map(({u:W,w:i})=>{let V=l?this.getPageAssetUrl(l,W):W;return i?`${V} ${i}w`:V}).join(",")}))}}}getProjectPageIds(){return Object.keys(this.index.pages)}getTaggedPageIds(t,l){let d=new Set(t);return Object.keys(this.index.pages).filter(a=>{var c,W;let n=(W=(c=this.index.pages[a])==null?void 0:c.tags)!=null?W:[];return l==="all"?n.filter(i=>d.has(i)).length>=d.size:n.find(i=>d.has(i))})}getSubpageIds(t,l,d,a){l||(l=this.index.pages[d].nodeId),t==="siblings"&&(l=Object.entries(this.index.nodes).reduce((i,[V,Z])=>Z.children.includes(l)?V:i,l));let n=Object.keys(this.index.nodes).find(i=>this.index.nodes[i].page===d),c=this.index.nodes[l];return this._getChildren(c,t,a?null:n).reduce((i,V)=>{let Z=this.index.nodes[V];return Z.page?i.concat(Z.page):i},[])}_getChildren(t,l,d){if(!t)return[];let a=t.children.filter(n=>n!==d);return l==="descendants"?a.reduce((n,c)=>n.concat(c).concat(this._getChildren(this.index.nodes[c],l,d)),[]):a}getPageAssetUrl(t,l){var n;if(!l)return;let d=this.index.pages[t],a=this.index.nodes[d==null?void 0:d.nodeId];if(!(!d||!a))return/^(https?:\/\/|\/)/.exec(l)?l:this.isEmbed?`${this.publishUrl}${a.uri}${l}`:`${(n=this.componentsBaseUrl)!=null?n:this.baseUrl}${a.uri}${l}`}getPageUrl(t){var n;let l=this.index.pages[t],d=this.index.nodes[l==null?void 0:l.nodeId];if(!l||!d)return;let a=(n=l.uri)!=null?n:`${d.uri}index.html`;return/^(https?:\/\/|\/)/.exec(a)?a:this.isEmbed?`${this.publishUrl}${a}`:`${this.baseUrl}${a}`}getProjectUrl(t){return/^(https?:\/\/|\/)/.exec(t)?t:`${this.baseUrl}${t}`}hasSearch(){var t;return(t=this.index.features.searchEnabled)!=null?t:!1}getSearch(){return X(this,null,function*(){return this.index.features.searchEnabled||console.error("Project search is not enabled."),this.search.then(t=>{if(!t)throw new Error("No search has been loaded");return t})})}};function xt(e,t){return e.features.searchEnabled&&t?t():(e.features.searchEnabled&&console.error("Project search is enabled but no search extension is provided."),null)}function L(e){var t,l,d;(d=(l=(t=window.Shorthand)==null?void 0:t.analytics)==null?void 0:l.api)!=null&&d.ready&&window.Shorthand.analytics.api.addEvent(e)}function f(e,t){Mt(e,t),Ct(t),document.addEventListener("mousedown",l=>{!t.contains(l.target)&&!e.contains(l.target)&&t.classList.remove("project-search--isActive")},!0)}function Mt(e,t){e.addEventListener("click",l=>{l.preventDefault(),t.classList.add("project-search--isActive")})}function Ct(e){document.querySelector(".project-search-close-button").addEventListener("click",l=>{l.preventDefault(),e.classList.remove("project-search--isActive")})}function H(e){h("a[data-path]",e).forEach(t=>{t.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation();let d=t.getAttribute("data-path");window.Shorthand.navigateInProject(d,t.href)})})}function x(e,t,l){if(e.isEmbedLink(t)){let{path:d,url:a}=Ht(e,t);l.setAttribute("data-path",d),l.href=a}else l.href=t}function Ht(e,t){let l="/"+t.replace(e.publishUrl,"").replace(/\/?index\.html/,""),d=new URL(document.location.href);return d.searchParams.set("shpath",l),{path:l,url:decodeURIComponent(d.toString())}}function Wt(e,t,l){return X(this,null,function*(){let d=B(".project-search-button",t),a=B("div[data-project-search-sidebar]",t),n=a&&B("div[data-project-search]",a),c=B("button[data-project-search-close-button]");function W(){d&&d.remove(),a&&a.remove()}return!e.hasSearch()||!l.hasSearch||!d||!a||!n||!c?W():(f(d,a),e.getSearch().then(i=>St(e,n,a,c,i)).catch(i=>{console.error(`Could not set up search: ${i}.`),W()}))})}function St(e,t,l,d,a){let n=t.querySelector("input[data-item-searchterm]"),c=t.querySelector(".project-search-delete-btn"),W=t.querySelector(".project-search-enter-btn");function i(o){return!W.disabled&&o.length>0}function V(o){return X(this,null,function*(){W.disabled=!0;let F=Date.now(),g=yield a.search(o);return L({id:"project-search:show-results",el:W,data:{termLength:o.length,termWordCount:o.split(" ").filter(Y=>Y).length,searchTime:Date.now()-F,resultsStoryCount:g.length}}),g})}function Z(){W.disabled=!1}function b(o){W.style.display=o?"inline":"none",c.style.display=o?"none":"inline"}function G(o){o.value="",P(l),b(!1)}function R(o){return X(this,null,function*(){let F=o.value.trim();if(i(F))try{P(l);let g=l.querySelector("template[data-project-search-results-template]"),Y=yield V(F),N=kt(e,Y,g);l.querySelector(".project-sidebar-container").append(N),H(l)}catch(g){console.error(`Error searching project: ${g}`)}finally{b(!1),Z()}})}function p(o){o.value.trim()===""?(b(!1),P(l)):l.querySelector(".project-search-results")||b(!0)}n.onkeydown=o=>{o.key==="Enter"&&(o.preventDefault(),R(n))},n.addEventListener("input",()=>{p(n)}),c.onclick=()=>{G(n)},d.onclick=()=>{G(n)},W.onclick=()=>{R(n)},document.addEventListener("keydown",o=>{o.key==="Escape"&&l.classList.contains("project-search--isActive")&&(l.classList.remove("project-search--isActive"),G(n))})}function P(e){let t=e.querySelector(".project-search-results");t&&t.remove()}function kt(e,t,l){let d=document.createElement("ul");d.className="project-search-results";let a=`
   <li class="no-result-list--item">
      <span class="no-results-heading"> No matching results </span>
      <span>You could try: </span>
  
      <span class="search-options">related, or more general words</span>
      <span class="search-options">alternate spelling</span>
    </li>
  `;return"content"in l&&t.length>0?t.forEach((n,c)=>{d.append(Et(e,n,c,l))}):d.innerHTML=a,d}function Et(e,t,l,d){var b,G,R,p,o,F;let a=e.getProjectPage(t.getPageId()),n=t.getSnippet(),c=document.createElement("li");c.className="project-story-list-item";let W=d==null?void 0:d.content.cloneNode(!0),i=W.querySelector(".project-image-link");x(e,a.url,i),i.addEventListener("click",()=>{L({id:"project-search:select-result",el:i,data:{url:a.url,location:window.location.href,resultIdx:l,publishUrl:e.publishUrl,isEmbed:e.isEmbed}})});let V=W.querySelector("[data-project-search-result-image]");V&&(V.src=(G=(b=a.cover)==null?void 0:b.url)!=null?G:"",V.alt=`Cover for ${a.title}`);let Z=W.querySelector("[data-project-search-result-swatch]");return Z&&(Z.style.backgroundColor=(p=(R=a.colors)==null?void 0:R.backgroundColor)!=null?p:"white"),a.cover?Z==null||Z.remove():V==null||V.remove(),W.querySelector(".project-match-snippet-container").innerHTML=n,W.querySelector(".project-story-title").textContent=a.title,W.querySelector(".project-story-description").textContent=((o=a.description)==null?void 0:o.length)>50?((F=a.description)==null?void 0:F.substring(0,50))+"...":a.description,c.appendChild(W),c}function K(){if(!window.hasOwnProperty("$shproject")||window.$shproject===void 0)return;let e=!1,t={create:()=>X(this,null,function*(){if(!e){e=!0;let l=window.$shproject,d=Promise.resolve(null);if(l.index)d=Promise.resolve(new C(l,l.index,{search:()=>X(this,null,function*(){return{search:()=>X(this,null,function*(){return[]})}})}));else{let a=l.publishUrl.replace(l.pageUri,""),n=jt(a);d=n("project.js").then(()=>new C(window.$shproject,window.$shproject.index,{search:()=>X(this,null,function*(){return yield n(window.$shproject.index.manifest["project-search.js"]),window.$shproject_ext_search(a)})}))}window.Shorthand.project.get=()=>d}}),get:()=>X(this,null,function*(){return console.error("Project API is not ready yet"),null})};window.hasOwnProperty("Shorthand")?window.Shorthand.hasOwnProperty("project")||(window.Shorthand.project=t):window.Shorthand={project:t},window.Shorthand.project.get||(window.Shorthand.project.get=t.get),window.Shorthand.project.create||(window.Shorthand.project.create=t.create),window.Shorthand.project.create().catch(console.error),window.Shorthand.project.get().then(l=>{l&&(Dt(l),wt(l),v(),At(l))}).catch(console.error)}function jt(e){return function(l){return new Promise((d,a)=>{let n=document.createElement("script");n.src=`${e}${l}`,n.addEventListener("load",()=>{d()}),n.addEventListener("error",a),B("#article").appendChild(n)})}}function Dt(e){let t=B("[data-project-header]"),l=e.getHeaderNavigation(),d=l.option!=="D";if(!t||!l.isEnabled)return;t.classList.remove("Theme-HeaderContainer--hidden"),Zt(e,t,l),d?bt(e,t,l,"header"):t.querySelector(".Navigation__hamburger").remove(),Wt(e,t,l),Gt(t,l,"header"),h(".Project-Header--center a").forEach(n=>n.addEventListener("focus",function(){let c=B(".Navigation__hamburger");if(!c)return;c.style.display!="none"&&c.getAttribute("aria-expanded")==="false"&&c.focus()})),A()}function wt(e){let t=B("[data-project-footer]"),l=e.getFooterNavigation();!t||!l.isEnabled||(Zt(e,t,l),bt(e,t,l,"footer"),Gt(t,l,"footer"))}function Zt(e,t,l){var n;t.style.removeProperty("display");let d=h(".Theme-NavigationBar")[1];l.color&&(t.style.backgroundColor=(n=l.color)==null?void 0:n.color,d&&l.color&&(d.style.backgroundColor=l.color.color)),l.fontColor&&d&&Array.from(d.querySelectorAll(".Theme-NavigationBarItem")).forEach(c=>{c.style.color=l.fontColor.color}),t.classList.add(`ProjectNavigation--${l.option}`);let a=B("[data-project-logos]",t);a&&vt(e,l.logos,l.showThemeLogos,a)}function bt(e,t,l,d){let a=t.querySelector(".Navigation");l.color&&(a.style.backgroundColor=l.color.color);let n=t.querySelector("ul");l.items.forEach(c=>{var V,Z,b;let W=document.createElement("li");W.style.color=(V=l.fontColor)==null?void 0:V.color,W.className="Navigation__item Theme-NavigationBarItem";let i=document.createElement(c.url?"a":"span");if(i.className="Theme-NavigationLink",i.setAttribute("data-story-nav-item","true"),i.textContent=c.label,c.url&&x(e,c.url,i),W.appendChild(i),n.appendChild(W),c.children.length>0){let F=function(g,Y){return N=>{N.key==="Tab"?N.shiftKey?document.activeElement===g&&(N.preventDefault(),Y.focus()):document.activeElement===Y&&(N.preventDefault(),g.focus()):N.key==="Escape"&&(W.classList.remove("isOpen"),document.querySelector(".Navigation__button").setAttribute("aria-expanded","false"),o==null||o.focus())}};W.classList.add("hasMenu");let G=document.createElement("ul");G.className="Navigation__subMenu Theme-ProjectNavigation-subMenu",G.style.backgroundColor=(Z=l.color)==null?void 0:Z.color,G.setAttribute("role","menu");let R,p,o;if(d==="header"){let g=document.createElement("button");g.className="Navigation__button",g.style.color=(b=l.fontColor)==null?void 0:b.color,g.setAttribute("aria-label",`show submenu for ${c.label}`),g.addEventListener("click",function(){let N=this.parentNode;N.className.includes("isOpen")?(N.classList.remove("isOpen"),this.setAttribute("aria-expanded","false")):(N.classList.add("isOpen"),this.setAttribute("aria-expanded","true"),o=document.activeElement,R&&p&&W.addEventListener("keydown",F(R,p)))});let Y=document.createElement("span");Y.className="menuCaret",g.appendChild(Y),W.addEventListener("mouseenter",function(){this.classList.add("isOpen"),g.setAttribute("aria-expanded","true")}),W.addEventListener("mouseleave",function(){this.classList.remove("isOpen"),g.setAttribute("aria-expanded","false")}),W.appendChild(g)}c.children.forEach((g,Y)=>{let N=document.createElement("li");N.className="Navigation__item Theme-NavigationBarItem Theme-ProjectNavigation-subItem",N.setAttribute("role","menuitem");let T=document.createElement("a");T.className="Theme-NavigationLink",T.textContent=g.label,d==="header"&&(R=Y===0?T:R,p=Y===c.children.length-1?T:p),x(e,g.url,T),N.appendChild(T),G.appendChild(N)}),W.appendChild(G)}}),H(n)}function Gt(e,t,l){let d=encodeURIComponent(document.location.href),a=l==="header"?e.querySelector(".Project-Header--right .Theme-SocialIcons"):e.querySelector(".Project-Footer--right .Theme-SocialIcons");if(t.social.showTwitter){let n=JSON.parse(a.getAttribute("data-text")),c=document.createElement("span");c.className="Theme-SocialButton";let W=document.createElement("a");W.className="Theme-TwitterButton",W.href=`https://twitter.com/intent/tweet?url=${d}${n.text}${n.via}`,W.setAttribute("data-social-share","twitter"),W.setAttribute("data-testid","Header--btn-Twitter"),c.appendChild(W),a.appendChild(c)}if(t.social.showFacebook){let n=document.createElement("span");n.className="Theme-SocialButton";let c=document.createElement("a");c.className="Theme-FacebookButton Theme-FaceboookButton",c.href=`https://www.facebook.com/sharer/sharer.php?u=${d}`,c.setAttribute("data-social-share","facebook"),c.setAttribute("data-testid","Header--btn-Facebook"),n.appendChild(c),a.appendChild(n)}if(t.social.showLinkedIn){let n=document.createElement("span");n.className="Theme-SocialButton";let c=document.createElement("a");c.className="Theme-LIButton",c.href=`https://www.linkedin.com/shareArticle?mini=true&url=${d}`,c.setAttribute("data-social-share","linkedin"),c.setAttribute("data-testid","Header--btn-LinkedIn"),n.appendChild(c),a.appendChild(n)}}function zt(e){let t=e.length;for(;t>0;){let l=Math.floor(Math.random()*t);t--;let d=e[t];e[t]=e[l],e[l]=d}return e}function At(e){h("[data-related-stories]").forEach(t=>{let l=B("ul[data-related-stories-list]",t);if(l)return Ot(e,t,l);let d=B("ul[data-related-stories-site-map]",t);if(d)return yt(e,d)})}function Ot(e,t,l){var T,q,_;let d=l.getAttribute("data-page"),a=l.getAttribute("data-style"),n=(T=l.getAttribute("data-filter"))!=null?T:"list",c=l.getAttribute("data-content-titles")!=="false",W=l.getAttribute("data-content-descriptions")!=="false",i=(q=l.getAttribute("data-sort-order"))!=null?q:"Recently published",V=l.hasAttribute("data-filter-pages")?JSON.parse(l.getAttribute("data-filter-pages")):[],Z=l.getAttribute("data-default-shape"),b=JSON.parse(l.getAttribute("data-default-corners")),G=l.hasAttribute("data-external-links")?JSON.parse(l.getAttribute("data-external-links")):[],R=l.hasAttribute("data-item-overrides")?JSON.parse(l.getAttribute("data-item-overrides")):[],p;l.hasAttribute("data-limit")&&(p=(_=parseInt(l.getAttribute("data-limit")))!=null?_:void 0);let o=V;switch(n){case"subtree":let{relation:U,relationNodeId:I,includeSelfInList:r}=l.hasAttribute("data-filter-subtree")?JSON.parse(l.getAttribute("data-filter-subtree")):{relation:"children",relationNodeId:d,includeSelfInList:!1};o=e.getSubpageIds(U,I,d,r);break;case"tags":let s=l.hasAttribute("data-filter-tag-rule")?l.getAttribute("data-filter-tag-rule"):"any",J=l.hasAttribute("data-filter-tags")?JSON.parse(l.getAttribute("data-filter-tags")):[];o=e.getTaggedPageIds(J,s).filter(Q=>Q!==d);break}let F=o.map(U=>{let I=G.find(s=>s.id===U),r=R==null?void 0:R.find(s=>s.id===U);return I?e.externalLinkToProjectPage(I):e.getProjectPage(U,r)}).filter(U=>U);switch(i){case"Recently published":F.sort((r,s)=>s.publishedAt.getTime()-r.publishedAt.getTime());break;case"A - Z":F.sort((r,s)=>r.title.localeCompare(s.title));break;case"Z - A":F.sort((r,s)=>s.title.localeCompare(r.title));break;case"Random":zt(F);break;case"Manually sorted":let U=[],I=[...F];for(let r of V){let s=F.find(J=>J.pageId===r);s&&(U.push(s),I=I.filter(J=>J.pageId!==r))}F=U.concat(I)}let g=F.slice(0,p);if(g.length===0){t.remove();return}let Y=B('[data-template="item"]',l);if(!Y){t.remove();return}h("[data-template]",l).forEach(U=>{U.removeAttribute("data-template"),Y.remove(),Y.style.removeProperty("display")});function N(U,I){var J;let r=(J=G.find(Q=>Q.id===I.pageId))!=null?J:R.find(Q=>Q.id==I.pageId),s=Z||(r==null?void 0:r.shape);if(["List","Card"].includes(a)||(s="uncropped"),s&&U.classList.add(`crop-${s}`),s!=="circle"){let Q=S({topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},Z?b:r==null?void 0:r.corners);U.style.overflow="hidden",U.style.borderTopLeftRadius=Q.topLeft+"rem",U.style.borderTopRightRadius=Q.topRight+"rem",U.style.borderBottomLeftRadius=Q.bottomLeft+"rem",U.style.borderBottomRightRadius=Q.bottomRight+"rem"}}g.forEach(U=>{let I=Y.cloneNode(!0);l.appendChild(I);let r=h("a[data-item-url]",I),s=h("img[data-item-media]",I),J=h("[data-item-title]",I),Q=h("[data-item-description]",I),ot=h("[data-item-image]",I);r.forEach(m=>{x(e,U.url,m),U.cover?m.style.backgroundColor="transparent":["Card","List"].includes(a)||(m.style.backgroundColor="black",N(m,U))}),U.cover&&(s.forEach(m=>m.setAttribute("src",U.cover.url)),s.forEach(m=>m.setAttribute("alt",`Cover image for ${U.title}`))),J.forEach(m=>{m.textContent=U.title,c||(m.style.display="none")}),Q.forEach(m=>{var u;m.textContent=(u=U.description)!=null?u:"",W||(m.style.display="none")}),ot.forEach(m=>{N(m,U)}),J.forEach(m=>m.textContent=U.title),Q.forEach(m=>{var u;return m.textContent=(u=U.description)!=null?u:""}),H(I),U.cover?h("source[data-item-mediasource]",I).forEach(m=>{U.cover.sources.forEach(u=>{let D=m.cloneNode(),Rt=m.nextSibling;D.srcset=u.srcSet,D.type=u.type,m.parentElement.insertBefore(D,Rt)}),m.remove()}):h(".related-story-image",I).forEach(m=>m.remove())})}function yt(e,t){let l=h("[data-template]",t),d=B('[data-template="page"]',t),a=B('[data-template="node"]',t);l.forEach(c=>{c.removeAttribute("data-template"),c.remove(),c.style.removeProperty("display")});function n(c,W){var o;let i=e.index.nodes[c];if(!i)return;let V=e.index.pages[i.page];if(!V&&!i)return;let b=(V?d:a).cloneNode(!0),G=i.page?e.getPageUrl(i.page):"",R=V?V.title:i.label;h("[data-item-title]",b).forEach(F=>{F.textContent=R}),h("a[data-item-url]",b).forEach(F=>{F.setAttribute("href",G)});let p=B("ul[data-item-children]",b);p&&((o=i.children)!=null?o:[]).forEach(F=>n(F,p)),W.appendChild(b)}e.index.roots.forEach(c=>n(c,t))}function vt(e,t,l,d){let a=h("[data-template]",d),n=B('[data-template="link"]',d),c=B('[data-template="no-link"]',d);if(!n||!c){d.remove();return}l||h("[data-themelogos]",d).forEach(i=>i.remove()),a.forEach(W=>W.remove());for(let{link:W,media:i}of t){let Z=(W?n:c).cloneNode(!0),b=Object.values(i).reduce((G,{alt:R})=>G||R,"");for(let G of h("img[data-logo-img]",Z))Lt(e,G,i,b)||G.remove();if(W)for(let G of h("a[data-logo-link]",Z))ft(G,W);d.appendChild(Z)}}function Lt(e,t,l,d){let a=t.getAttribute("data-logo-img");if(a in l){let{src:n,alt:c}=l[a];return t.setAttribute("src",e.publishUrl+n.replace(e.baseUrl,"")),(c||d)&&t.setAttribute("alt",c||d),!0}return!1}function ft(e,t){var d;e.setAttribute("href",t.href),t.blank&&e.setAttribute("target","_blank");let l=new Set((d=e.getAttribute("rel"))!=null?d:[]);t.noreferrer&&l.add("noreferrer"),t.nofollow&&l.add("nofollow"),l.size>0&&e.setAttribute("rels",Array.from(l).join(" "))}K();})();
/*! Bundled license information:

classnames/dedupe.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
*/
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c3e95022-e7ab-5673-b89c-88cf0783efbc")}catch(e){}}();
//# sourceMappingURL=project.359052.min.js.map
//# debugId=c3e95022-e7ab-5673-b89c-88cf0783efbc
